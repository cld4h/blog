<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" æ³¨æ„ï¼šæœ¬ç¯‡æ–‡ç« ä¸­æåˆ°çš„å†…å®¹å¯èƒ½å­˜åœ¨è¿‡æ—¶é—®é¢˜ï¼Œå¦å¤–æœ‰å¾ˆå¤šè½¯ä»¶æˆ‘å·²ä¸å†ä½¿ç”¨æˆ–åå¯¹ä½¿ç”¨ï¼Œè¯·å°å¿ƒï¼ å‚è€ƒï¼š http://valleycat.org/linux/arch-usb.html\nå‡†å¤‡è¿‡ç¨‹ ä¸‹è½½iso è¿›å…¥ https://www.archlinux.org/download/ æ‰¾åˆ°æœ€è¿‘çš„é•œåƒæºä¸‹è½½isoå³å¯\n"><title>Archlinux å®‰è£…</title>
<link rel=canonical href=https://cld4h.github.io/blog/zh-cn/p/archlinux-%E5%AE%89%E8%A3%85/><link rel=stylesheet href=/blog/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Archlinux å®‰è£…"><meta property='og:description' content=" æ³¨æ„ï¼šæœ¬ç¯‡æ–‡ç« ä¸­æåˆ°çš„å†…å®¹å¯èƒ½å­˜åœ¨è¿‡æ—¶é—®é¢˜ï¼Œå¦å¤–æœ‰å¾ˆå¤šè½¯ä»¶æˆ‘å·²ä¸å†ä½¿ç”¨æˆ–åå¯¹ä½¿ç”¨ï¼Œè¯·å°å¿ƒï¼ å‚è€ƒï¼š http://valleycat.org/linux/arch-usb.html\nå‡†å¤‡è¿‡ç¨‹ ä¸‹è½½iso è¿›å…¥ https://www.archlinux.org/download/ æ‰¾åˆ°æœ€è¿‘çš„é•œåƒæºä¸‹è½½isoå³å¯\n"><meta property='og:url' content='https://cld4h.github.io/blog/zh-cn/p/archlinux-%E5%AE%89%E8%A3%85/'><meta property='og:site_name' content='cld4h çš„åšå®¢'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2019-09-24T15:31:24+08:00'><meta property='article:modified_time' content='2022-02-20T16:38:30+08:00'><meta property='og:image' content='https://archlinux.org/static/logos/archlinux-logo-dark-scalable.518881f04ca9.svg'><meta name=twitter:title content="Archlinux å®‰è£…"><meta name=twitter:description content=" æ³¨æ„ï¼šæœ¬ç¯‡æ–‡ç« ä¸­æåˆ°çš„å†…å®¹å¯èƒ½å­˜åœ¨è¿‡æ—¶é—®é¢˜ï¼Œå¦å¤–æœ‰å¾ˆå¤šè½¯ä»¶æˆ‘å·²ä¸å†ä½¿ç”¨æˆ–åå¯¹ä½¿ç”¨ï¼Œè¯·å°å¿ƒï¼ å‚è€ƒï¼š http://valleycat.org/linux/arch-usb.html\nå‡†å¤‡è¿‡ç¨‹ ä¸‹è½½iso è¿›å…¥ https://www.archlinux.org/download/ æ‰¾åˆ°æœ€è¿‘çš„é•œåƒæºä¸‹è½½isoå³å¯\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://archlinux.org/static/logos/archlinux-logo-dark-scalable.518881f04ca9.svg'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blog/zh-cn/><img src=/blog/img/avataaars_hu_25972a44ed8b91a1.png width=300 height=318 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¡</span></figure><div class=site-meta><h1 class=site-name><a href=/blog/zh-cn>cld4h çš„åšå®¢</a></h1><h2 class=site-description>Self sufficient!</h2></div></header><ol class=menu-social><li><a href=mailto:cld4h@disroot.org target=_blank title=email rel=me><svg class="icon icon-tabler icon-tabler-email" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M4 5.5s16 0 16 0c1.19.0 2 .13 2 1.5V17.5C22 18.87 21.19 19 20 19H4C2.81 19 2 18.87 2 17.5V7c0-1.37.81-1.5 2-1.5z"/><path d="M2.5 6c2 2 4 4 5.58 5.25C9.67 12.5 10.83 13 12 13s2.33-.5 3.92-1.75C17.5 10 19.5 8 21.5 6"/><path d="M8.5 12c-2 1.67-4 3.33-6 5"/><path d="M15.5 12c2 1.67 4 3.33 6 5"/></svg></a></li><li><a href=https://github.com/cld4h target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/blog/about/#rss-links target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li><li><a href=/blog/about/#xmpp target=_blank title=xmpp:cld4h@disroot.org rel=me><svg class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M21 14l-3-3h-7a1 1 0 01-1-1V4a1 1 0 011-1h9a1 1 0 011 1v10"/><path d="M14 15v2a1 1 0 01-1 1H6l-3 3V11a1 1 0 011-1h2"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blog/blog target=_blank><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/blog/zh-cn/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/blog/zh-cn/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/blog/zh-cn/%E5%85%B3%E4%BA%8E/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://cld4h.github.io/blog/>English</option><option value=https://cld4h.github.io/blog/zh-tw/>ä¸­æ–‡æ­£é«”</option><option value=https://cld4h.github.io/blog/zh-cn/ selected>ä¸­æ–‡ç®€ä½“</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/blog/zh-cn/p/archlinux-%E5%AE%89%E8%A3%85/><img src=https://archlinux.org/static/logos/archlinux-logo-dark-scalable.518881f04ca9.svg loading=lazy alt="Featured image of post Archlinux å®‰è£…"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/blog/zh-cn/p/archlinux-%E5%AE%89%E8%A3%85/>Archlinux å®‰è£…</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 24, 2019</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 6 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><mark>æ³¨æ„ï¼šæœ¬ç¯‡æ–‡ç« ä¸­æåˆ°çš„å†…å®¹å¯èƒ½å­˜åœ¨è¿‡æ—¶é—®é¢˜ï¼Œå¦å¤–æœ‰å¾ˆå¤šè½¯ä»¶æˆ‘å·²ä¸å†ä½¿ç”¨æˆ–åå¯¹ä½¿ç”¨ï¼Œè¯·å°å¿ƒï¼</mark><p>å‚è€ƒï¼š
<a class=link href=http://valleycat.org/linux/arch-usb.html target=_blank rel=noopener>http://valleycat.org/linux/arch-usb.html</a></p><h2 id=å‡†å¤‡è¿‡ç¨‹>å‡†å¤‡è¿‡ç¨‹</h2><ul><li>ä¸‹è½½iso</li></ul><p>è¿›å…¥ <a class=link href=https://www.archlinux.org/download/ target=_blank rel=noopener>https://www.archlinux.org/download/</a> æ‰¾åˆ°æœ€è¿‘çš„é•œåƒæºä¸‹è½½isoå³å¯</p><ul><li>åˆ·å…¥Uç›˜</li></ul><p><a class=link href=https://wiki.archlinux.org/index.php/USB_flash_installation_media target=_blank rel=noopener>å‚è§</a></p><p>è¿è¡Œä¸‹è¿°å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl> dd <span class=nv>bs</span><span class=o>=</span>4M <span class=k>if</span><span class=o>=</span>path/to/archlinux.iso <span class=nv>of</span><span class=o>=</span>/dev/sdx <span class=nv>status</span><span class=o>=</span>progress <span class=nv>oflag</span><span class=o>=</span>sync
</span></span></code></pre></td></tr></table></div></div><ul><li>å¯åŠ¨è¿›å…¥Live CD</li></ul><h3 id=è°ƒæ•´live-archlinux-root-åˆ†åŒºçš„å¤§å°>è°ƒæ•´Live archlinux root åˆ†åŒºçš„å¤§å°</h3><p><a class=link href=https://www.ostechnix.com/adjust-size-root-partition-live-arch-linux/ target=_blank rel=noopener>å‚è§</a></p><p>å¯åŠ¨æ—¶æŒ‰ä¸‹ <strong>e</strong> æˆ– tab é”®ä»¥ä¿®æ”¹å†…æ ¸å‚æ•°</p><p>åœ¨ <code>linux=...initrd=...</code> åæ·»åŠ  <code>cow_spacesize=1G</code></p><p>å¦‚æœæ²¡æœ‰åœ¨å¯åŠ¨æ—¶ä¿®æ”¹å†…æ ¸å‚æ•°ï¼Œå¯ä»¥åœ¨å¯åŠ¨åæ‰§è¡Œä¸‹è¿°å‘½ä»¤</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mount -o remount,size<span class=o>=</span>1G /run/archiso/cowspace
</span></span></code></pre></td></tr></table></div></div><p>cow æ˜¯ Copy On Write çš„ç¼©å†™ï¼Œé¢å¤–çš„ç©ºé—´ä½¿ç”¨çš„æ˜¯å†…å­˜</p><h2 id=å¼€å§‹å®‰è£…æ— æ¡Œé¢ç¯å¢ƒç­‰>å¼€å§‹å®‰è£…ï¼ˆæ— æ¡Œé¢ç¯å¢ƒç­‰ï¼‰</h2><h3 id=éªŒè¯ç³»ç»Ÿå¯åŠ¨æ¨¡å¼uefibios>éªŒè¯ç³»ç»Ÿå¯åŠ¨æ¨¡å¼ï¼šUEFI/BIOS</h3><p>æŸ¥çœ‹ <code>/sys/firmware/efi/efivars</code> æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>ls /sys/firmware/efi/efivars
</span></span></code></pre></td></tr></table></div></div><p>è‹¥æœ‰è¿”å›æ–‡ä»¶åˆ—è¡¨ï¼Œåˆ™è¯æ˜æ˜¯åœ¨UEFIæ¨¡å¼ä¸‹
(æˆ–é€šè¿‡ <code>efivar -l</code> å‘½ä»¤ä¹Ÿå¯æŸ¥çœ‹)</p><h3 id=è¿æ¥ç½‘ç»œ>è¿æ¥ç½‘ç»œ</h3><p>é€šè¿‡ <code>ip link</code> æŸ¥çœ‹è¿æ¥æƒ…å†µ</p><p>é•œåƒé»˜è®¤å¯åŠ¨æ—¶å¯åŠ¨äº† <code>dhcpcd</code> æœåŠ¡</p><p>é€šè¿‡ <code>ping www.baidu.coom</code> ç¡®è®¤èƒ½ä¸Šç½‘</p><h3 id=è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸ntpæœåŠ¡å™¨åŒæ­¥>è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸NTPæœåŠ¡å™¨åŒæ­¥</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>timedatectl set-ntp <span class=nb>true</span>
</span></span></code></pre></td></tr></table></div></div><p>é€šè¿‡ <code>timedatectl status</code> å‘½ä»¤æ£€æŸ¥æœåŠ¡çŠ¶æ€</p><h3 id=ç£ç›˜åˆ†åŒº>ç£ç›˜åˆ†åŒº</h3><p>å…ˆ <code>lsblk</code> ä¸€ä¸‹ç¡®å®šç£ç›˜å</p><p>é€šè¿‡ <code>gdisk /dev/sdX</code> xzyy å…¨ç›˜æ¸…ç©º</p><p>é€šè¿‡ <code>cgdisk</code> è¿›è¡Œåˆ†åŒº</p><p>ä¸‹è¡¨ä¸­çš„åˆ†åŒºæ–¹å¼æ”¯æŒBIOSå’ŒUEFI</p><div class=table-wrapper><table><thead><tr><th>ç¼–ç </th><th>æ–‡ä»¶ç³»ç»Ÿç±»å‹</th><th>åˆ†åŒºå¤§å°</th><th>è®¾å¤‡å(ç¤ºä¾‹)</th></tr></thead><tbody><tr><td>ef02</td><td>BIOS System</td><td>10MiB</td><td>/dev/sda1</td></tr><tr><td>ef00</td><td>EFI System</td><td>500MiB</td><td>/dev/sda2</td></tr><tr><td>8300</td><td>Linux File System</td><td>å‰©ä½™å…¨éƒ¨ç©ºé—´</td><td>/dev/sda3</td></tr></tbody></table></div><p>swap ä¸è®¾å›ºå®šåˆ†åŒºï¼Œç”± swap æ–‡ä»¶æ–¹å¼è®¾ç½®</p><p>æ ¼å¼åŒ–åˆ†åŒºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mkfs.fat -F32 /dev/sda2 <span class=c1>#EFI System</span>
</span></span><span class=line><span class=cl>mkfs.ext4 /dev/sda3 <span class=c1>#Linux File System</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¸å¯¹ <code>/dev/sda1</code> è¿›è¡Œæ ¼å¼åŒ–</p><p>æŒ‚è½½åˆ†åŒºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mount /dev/sda3 /mnt
</span></span><span class=line><span class=cl>mkdir /mnt/boot
</span></span><span class=line><span class=cl>mount /dev/sda2 /mnt/boot
</span></span></code></pre></td></tr></table></div></div><h3 id=è®¾ç½®é•œåƒæº>è®¾ç½®é•œåƒæº</h3><p><a class=link href="https://www.archlinux.org/mirrorlist/?country=all&amp;protocol=http&amp;ip_version=6" target=_blank rel=noopener>æ”¯æŒIPv6çš„é•œåƒæº</a>
<a class=link href=https://www.archlinux.org/mirrorlist/ target=_blank rel=noopener>é•œåƒæºåˆ—è¡¨ç”Ÿæˆå™¨</a></p><p>ç¼–è¾‘ <code>/etc/pacman.d/mirrorlist</code> æ–‡ä»¶</p><p>åˆ›å»ºå’Œç¼–è¾‘ <code>/etc/pacman.d/mirrorlist</code> æ–‡ä»¶ä¹‹åï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤åˆ·æ–°é•œåƒï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -Syyu
</span></span></code></pre></td></tr></table></div></div><p>ä¼ å…¥ä¸¤æ¬¡ <code>--refresh</code> æˆ– <code>-y</code> å°†å¼ºåˆ¶æ›´æ–°æ‰€æœ‰è½¯ä»¶åŒ…ï¼Œå³ä½¿ç³»ç»Ÿè®¤ä¸ºå®ƒä»¬å·²ç»æ˜¯æœ€æ–°ã€‚</p><p><strong>æ¯æ¬¡ä¿®æ”¹é•œåƒä¹‹åéƒ½åº”è¯¥ä½¿ç”¨</strong><code>pacman -Syyu</code></p><p><a class=link href=https://wiki.archlinux.org/index.php/Mirrors target=_blank rel=noopener>å‚è€ƒ</a></p><h3 id=å®‰è£…è½¯ä»¶>å®‰è£…è½¯ä»¶</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacstrap -i /mnt base base-devel vim ntfs-3g networkmanager shadowsocks-libev
</span></span></code></pre></td></tr></table></div></div><p><code>-i</code> é€‰é¡¹è¡¨ç¤º"äº¤äº’çš„(interactive)"</p><h3 id=åˆ›å»ºswapæ–‡ä»¶>åˆ›å»ºswapæ–‡ä»¶</h3><p>æˆ‘æ²¡æœ‰å›ºå®šè®¾ç½®swapåˆ†åŒºï¼Œè€Œæ˜¯ä½¿ç”¨äº†swapæ–‡ä»¶</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo fallocate -l 1G /mnt/swapfile
</span></span></code></pre></td></tr></table></div></div><p>If fallocate is not installed or if you get an error message saying fallocate failed: Operation not supported then you can use the following command to create the swap file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo dd <span class=k>if</span><span class=o>=</span>/dev/zero <span class=nv>of</span><span class=o>=</span>/mnt/swapfile <span class=nv>bs</span><span class=o>=</span><span class=m>1024</span> <span class=nv>count</span><span class=o>=</span><span class=m>1048576</span>
</span></span></code></pre></td></tr></table></div></div><p>è®¾ç½®swapfileæ–‡ä»¶æƒé™</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo chmod <span class=m>600</span> /mnt/swapfile
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo mkswap /mnt/swapfile
</span></span><span class=line><span class=cl>sudo swapon /mnt/swapfile
</span></span></code></pre></td></tr></table></div></div><p>ç”Ÿæˆ <code>/etc/fstab</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span></code></pre></td></tr></table></div></div><p>ä¿®æ”¹ <code>/etc/fstab</code> ï¼Œä¿è¯è·¯å¾„æ­£ç¡®</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/swapfile none swap defaults 0 0
</span></span></code></pre></td></tr></table></div></div><p>éªŒè¯ <code>swap</code> å·²æŒ‚è½½</p><ol><li><code>sudo swapon --show</code></li><li><code>sudo free -h</code></li></ol><h3 id=chroot>chroot</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>arch-chroot /mnt
</span></span></code></pre></td></tr></table></div></div><h3 id=è®¾ç½®æ—¶åŒº>è®¾ç½®æ—¶åŒº</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</span></span></code></pre></td></tr></table></div></div><p>è¿è¡Œ <code>hwclock</code> ä»¥ç”Ÿæˆ <code>/etc/adjtime</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>hwclock --systohc
</span></span></code></pre></td></tr></table></div></div><h3 id=æœ¬åœ°åŒ–>æœ¬åœ°åŒ–</h3><p>ç¼–è¾‘ <code>/etc/locale.gen</code> æ–‡ä»¶ï¼Œå°† <code>en_US.UTF-8 UTF-8</code> å–æ¶ˆæ³¨é‡Š
ä¹‹åè¿è¡Œ <code>locale-gen</code> å‘½ä»¤</p><p>æ–°å»º <code>/etc/locale.conf</code> æ–‡ä»¶ï¼Œå°† <code>LANG</code> å˜é‡è®¾ç½®ä¸ºå¯¹åº”å€¼</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>LANG=en_US.UTF-8
</span></span></code></pre></td></tr></table></div></div><h3 id=ç½‘ç»œé…ç½®>ç½‘ç»œé…ç½®</h3><p>ç¼–è¾‘ <code>/etc/hostname</code> æ–‡ä»¶ï¼Œèµ·ä¸€ä¸ªå¥½å¬å¥½è®°çš„åå­—
å¦‚ <code>USB</code></p><p>ç¼–è¾‘ <code>/etc/hosts</code> æ–‡ä»¶</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>127.0.0.1	localhost
</span></span><span class=line><span class=cl>::1		localhost
</span></span><span class=line><span class=cl>127.0.1.1	USB.localdomain	USB
</span></span></code></pre></td></tr></table></div></div><h3 id=é’ˆå¯¹äºå°†ç³»ç»Ÿå®‰è£…åœ¨-portable-usb-keyä¸Š>é’ˆå¯¹äºå°†ç³»ç»Ÿå®‰è£…åœ¨ portable USB keyä¸Š</h3><h4 id=ram-disk-image>RAM disk image</h4><p><a class=link href=http://valleycat.org/linux/arch-usb.html#RAM_disk target=_blank rel=noopener>å‚è§</a></p><p>(ä¸ç”¨çœ‹this paragraph)
In order to boot the Linux Kernel persistently off of a USB device, some adjustments may be necessary to the initial RAM disk image. We need to ensure that block device support is properly loaded before any attempt at loading the filesystem. This not always the way a RAM disk image is configured in a generic Linux installation, and I suspect this may be another one of the failure points in other Linux USB installations out there. To configure a custom RAM disk image, open <code>/etc/mkinitcpio.conf</code> in an editor:</p><p>Ensure the <strong>block</strong> hook comes <strong>before</strong> the <strong>filesystems</strong> hook and <strong>directly after</strong> the <strong>udev</strong> hook like the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>HOOKS=(base udev block filesystems keyboard fsck)
</span></span></code></pre></td></tr></table></div></div><p>Now regenerate the initial RAM disk image with the changes made:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mkinitcpio -p linux
</span></span></code></pre></td></tr></table></div></div><h4 id=network-interface-names>network interface names</h4><p>Arch Linux&rsquo;s basic service manager, systemd, assigns network interfaces predictable names based on the actual device hardware. This is great for just about any other type of install, but can pose some problems for the portable USB installation we&rsquo;re going for. To ensure that the ethernet and wifi interfaces will always be respectively named <em>eth0</em> and <em>wlan0</em>, revert the Arch Linux USB back to traditional device naming:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>ln -s /dev/null /etc/udev/rules.d/80-net-setup-link.rules
</span></span></code></pre></td></tr></table></div></div><h4 id=journal-config>journal config</h4><p>A default installation of Arch Linux is setup with systemd to continuously journal various information about current processes and write that data to storage on disk. For a persistent bootable installation on a flash memory device, however, we can change some options in <code>journald.conf</code> to enable journal keeping entirely in RAM (thus reducing writes to the flash device). To control where journal data is stored, open <code>/etc/systemd/journald.conf</code> in and editor, to switch journal data storage to RAM, set the storage variable to volatile by ensuring the following line is uncommented:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Storage=volatile
</span></span></code></pre></td></tr></table></div></div><p>As an additional precaution, to ensure the operating system doesn&rsquo;t overfill RAM with journal data, set the max-use variable by adding the line:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SystemMaxUse=16M
</span></span></code></pre></td></tr></table></div></div><h4 id=mount-options>mount options</h4><p>Modern filesystems are able to record various metadata (last accessed, last modified, user rights, etc.) about their files. A default filesystem mount generally keeps track of as much as this information as possible. For a persistent bootable operating system on a flash memory device, however, we should limit some of this record keeping in order to reduce writes to the flash device. Using the <code>noatime</code> mount option in fstab will disable the record keeping of file access times: no writes will occur when a file is read, only when it is modified.</p><p>To disable record keeping of file access times for the bootable USB, open /etc/fstab in an editor, change the mount options from <code>relatime</code> to <code>noatime</code>.</p><h3 id=root-å¯†ç >Root å¯†ç </h3><p>é€šè¿‡ <code>passwd</code> ä¿®æ”¹rootå¯†ç </p><h3 id=boot-loader>Boot loader</h3><p>å‚è€ƒï¼š
<a class=link href=http://valleycat.org/linux/arch-usb.html#bootloader target=_blank rel=noopener>BIOS and UEFI</a></p><ol><li>ç¡®ä¿ <code>grub</code> å’Œ <code>efibootmgr</code> å·²å®‰è£…</li><li>ç¡®ä¿ EFI ç³»ç»Ÿåˆ†åŒºå·²ç»æŒ‚è½½ï¼ˆå‰é¢é€šè¿‡ <code>mount /dev/sda2 /mnt/boot</code> æŒ‚è½½ï¼Œå¯¹äºæ­¤æ—¶ (chroot ä¹‹å) æ¥è¯´ï¼ŒæŒ‚è½½ç‚¹ä¸º <code>/boot</code>ï¼‰ï¼Œ</li><li>è¿è¡Œ</li></ol><p>åŒæ—¶å®‰è£…ä¸¤ä¸ªå¯åŠ¨é¡¹ <a class=link href=http://valleycat.org/linux/arch-usb.html#bootloader target=_blank rel=noopener>BIOS and UEFI</a>
Setup GRUB for MBR/BIOS booting mode:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>grub-install --target<span class=o>=</span>i386-pc --boot-directory /boot /dev/sda
</span></span></code></pre></td></tr></table></div></div><p>Setup GRUB for UEFI booting mode:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>grub-install --target<span class=o>=</span>x86_64-efi --efi-directory /boot --boot-directory /boot --removable
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://wiki.archlinux.org/index.php/GRUB#Installation_2 target=_blank rel=noopener>GRUB</a> wikiä¸­æ¨èçš„å®‰è£…æŒ‡ä»¤(ä¸å‰é¢UEFIå®‰è£…ç±»ä¼¼)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>grub-install --target<span class=o>=</span>x86_64-efi --efi-directory<span class=o>=</span>/boot --bootloader-id<span class=o>=</span>GRUB
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>å¯ä»¥å®‰è£… <code>os-prober</code> è½¯ä»¶åŒ…å¹¶è¿è¡Œæ¥æ£€æµ‹å…¶ä»–OS</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo pacman -S os-prober
</span></span><span class=line><span class=cl>os-prober
</span></span></code></pre></td></tr></table></div></div><ol start=5><li>ç”Ÿæˆ <code>grub.cfg</code> é…ç½®æ–‡ä»¶</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></td></tr></table></div></div><h3 id=ç½‘ç»œ>ç½‘ç»œ</h3><p>Install the ifplugd package to configure automatic IP leasing on ethernet devices:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S ifplugd
</span></span></code></pre></td></tr></table></div></div><p>Download the packages to enable wifi support with a basic command line interface:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S iw wpa_supplicant dialog
</span></span></code></pre></td></tr></table></div></div><p>å®‰è£… NetworkManager å¹¶è®¾ç½®å¼€æœºå¯åŠ¨</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo pacman -S networkmanager
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> NetworkManager
</span></span></code></pre></td></tr></table></div></div><h3 id=æ˜¾å¡>æ˜¾å¡</h3><p>To support most common GPUs, install all four basic open source video drivers:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S xf86-video-ati xf86-video-intel xf86-video-nouveau xf86-video-vesa
</span></span></code></pre></td></tr></table></div></div><h3 id=è§¦æ‘¸æ¿>è§¦æ‘¸æ¿</h3><p>Install support for standard notebook touchpads:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S xf86-input-synaptics
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>.xinitrc</code> æ–‡ä»¶ä¸­ <code>exec</code> å‰æ·»åŠ </p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>synclient <span class=nv>TapButton1</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>synclient <span class=nv>TapButton2</span><span class=o>=</span><span class=m>3</span>
</span></span><span class=line><span class=cl>synclient <span class=nv>TapButton3</span><span class=o>=</span><span class=m>2</span>
</span></span><span class=line><span class=cl>synclient <span class=nv>VertScrollDelta</span><span class=o>=</span>-111
</span></span></code></pre></td></tr></table></div></div><h3 id=ç”µæ± >ç”µæ± </h3><p>Install support for checking battery charge and state:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S acpi
</span></span></code></pre></td></tr></table></div></div><h3 id=é’ˆå¯¹äºssdçš„trimæŒ‡ä»¤çš„ä¼˜åŒ–>é’ˆå¯¹äºSSDçš„TRIMæŒ‡ä»¤çš„ä¼˜åŒ–</h3><p>å°†æŒç»­TRIMæ”¹ä¸ºå®šæ—¶TRIM</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> fstrim.timer
</span></span></code></pre></td></tr></table></div></div><p>å‚è§
<a class=link href=https://www.digitalocean.com/community/tutorials/how-to-configure-periodic-trim-for-ssd-storage-on-linux-servers target=_blank rel=noopener>https://www.digitalocean.com/community/tutorials/how-to-configure-periodic-trim-for-ssd-storage-on-linux-servers</a></p><h3 id=åˆ›å»ºç”¨æˆ·>åˆ›å»ºç”¨æˆ·</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>useradd -m -G wheel,storage hao
</span></span><span class=line><span class=cl><span class=c1># useradd -m -g users -G wheel,storage -s /bin/bash hao</span>
</span></span></code></pre></td></tr></table></div></div><p><code>-m</code> é€‰é¡¹åˆ›å»ºhomeç›®å½•
<code>-g</code> é€‰é¡¹æŒ‡å®šæ‰€åœ¨ç»„
<code>-G</code> é€‰é¡¹æŒ‡å®šåŒ…å«æ‰€åˆ›å»ºç”¨æˆ·çš„é¢å¤–çš„ç»„
<code>-s</code> é€‰é¡¹æŒ‡å®šç”¨æˆ·æ‰€ç”¨çš„shell</p><p>è¿è¡Œä¸Šé¢çš„æ²¡æœ‰æ³¨é‡Šçš„å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ· <code>hao</code>(UID=1000) å’Œä¸€ä¸ªç»„ <code>hao</code>(GID=1000)</p><p>æˆ‘ä»¬æƒ³æŠŠç»„ <code>hao</code>(GID=1000) åˆ é™¤ï¼ŒæŠŠç”¨æˆ· <code>hao</code>(UID=1000) æ›´æ”¹åˆ°ç»„ <code>users</code> ä¸‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>usermod -g users -G wheel,storage,power hao
</span></span><span class=line><span class=cl>groupdel hao
</span></span></code></pre></td></tr></table></div></div><p>å…¶ä»–çš„å¯ç”¨å‘½ä»¤ <code>useradd</code>,<code>userdel</code>,<code>groupadd</code>,<code>groupdel</code></p><h4 id=ç¼–è¾‘-etcsudoers>ç¼–è¾‘ <code>/etc/sudoers</code></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nv>EDITOR</span><span class=o>=</span>vim visudo
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>##
</span></span><span class=line><span class=cl>## User privilege specification
</span></span><span class=line><span class=cl>##
</span></span><span class=line><span class=cl>root ALL=(ALL) ALL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## Uncomment to allow members of group wheel to exec
</span></span><span class=line><span class=cl>ute any command
</span></span><span class=line><span class=cl># %wheel ALL=(ALL) ALL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## Same thing without a password
</span></span><span class=line><span class=cl># %wheel ALL=(ALL) NOPASSWD: ALL
</span></span><span class=line><span class=cl>%wheel ALL=(ALL) NOPASSWD: ALL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## This keeps you from needing to reinsert your pass
</span></span><span class=line><span class=cl>words in each different terminal a wheel user uses s
</span></span><span class=line><span class=cl>udo in
</span></span><span class=line><span class=cl>Defaults !tty_tickets
</span></span></code></pre></td></tr></table></div></div><h2 id=å®‰è£…å›¾å½¢ç•Œé¢>å®‰è£…å›¾å½¢ç•Œé¢</h2><h3 id=å®‰è£…-xorg-x>å®‰è£… X.org (X)</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S xorg-server xorg-xinit
</span></span></code></pre></td></tr></table></div></div><p>è¾“å…¥ <code>xinit</code> æˆ– <code>startx</code> åï¼Œ X Server ä¼šè¯»å– <code>$HOME/.xinitrc</code> æ¥æŸ¥æ‰¾å¦‚ä½•å¯åŠ¨
å¦‚ï¼Œè¦å¯åŠ¨ i3ï¼Œåˆ™åœ¨<code>$HOME/.xinitrc</code>ä¸­æ·»åŠ  <code>exec i3</code></p><h3 id=å®‰è£…-i3-ç­‰ç›¸å…³ç¨‹åº>å®‰è£… i3 ç­‰ç›¸å…³ç¨‹åº</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S i3 dmenu ttf-dejavu firefox alacritty ranger
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¸­æ–‡å­—ä½“>ä¸­æ–‡å­—ä½“</h3><p>ç¯å¢ƒå˜é‡ <code>LANG=zh_CN.UTF-8</code></p><ul><li><code>.bashrc</code>ï¼šæ¯æ¬¡<strong>ç»ˆç«¯ç™»å½•</strong>æ—¶è¯»å–å¹¶è¿ç”¨é‡Œé¢çš„è®¾ç½®ã€‚</li><li><code>.xinitrc</code>ï¼šæ¯æ¬¡<code>startx</code> <strong>å¯åŠ¨Xç•Œé¢</strong>æ—¶è¯»å–å¹¶è¿ç”¨é‡Œé¢çš„è®¾ç½®ã€‚</li><li><code>.xprofile</code>ï¼šæ¯æ¬¡ä½¿ç”¨<strong>gdmç­‰å›¾å½¢ç™»å½•</strong>æ—¶è¯»å–å¹¶è¿ç”¨é‡Œé¢çš„è®¾ç½®ã€‚</li></ul><p>åœ¨ <code>.xinitrc</code> æˆ– <code>.xprofile</code>ä¸­æ·»åŠ ä¸‹é¢ä¸‰è¡Œå†…å®¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>export</span> <span class=n>LANG</span><span class=o>=</span><span class=n>zh_CN</span><span class=o>.</span><span class=n>UTF</span><span class=o>-</span><span class=mi>8</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>LANGUAGE</span><span class=o>=</span><span class=n>zh_CN</span><span class=p>:</span><span class=n>en_US</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>LC_CTYPE</span><span class=o>=</span><span class=n>en_US</span><span class=o>.</span><span class=n>UTF</span><span class=o>-</span><span class=mi>8</span>
</span></span></code></pre></td></tr></table></div></div><p>å®‰è£…æ€æºå­—ä½“</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pacman -S adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¸­æ–‡è¾“å…¥æ³•æœç‹—æ‹¼éŸ³è¾“å…¥æ³•>ä¸­æ–‡è¾“å…¥æ³•&mdash;<del>æœç‹—æ‹¼éŸ³è¾“å…¥æ³•</del></h3><p><mark>å¼ºçƒˆåå¯¹ä½¿ç”¨æœç‹—æ‹¼éŸ³è¾“å…¥æ³•ï¼Œå»ºè®®ä½¿ç”¨è‡ªç”±çš„rimeè¾“å…¥æ³•ã€‚å‰è€…ä¸ä½†å¯èƒ½å­˜åœ¨åé—¨ï¼›é…ç½®æ—¶è¿˜æœ‰å¾ˆå¤šå‘ã€‚</mark></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo pacman -S fcitx fcitx-im fcitx-configtool
</span></span></code></pre></td></tr></table></div></div><p>ç”±äºæœç‹—æ‹¼éŸ³è¾“å…¥æ³•ä¸åœ¨å®˜æ–¹ä»“åº“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨AURï¼Œä¹Ÿå¯ä»¥æ·»åŠ éå®˜æ–¹ä»“åº“[archlinuxcn]</p><p>ç¼–è¾‘ <code>/etc/pacman.conf</code>ï¼Œåœ¨æ‰€æœ‰ä»“åº“ä¹‹ååŠ å…¥å¦‚ä¸‹å†…å®¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[archlinuxcn]
</span></span><span class=line><span class=cl>#SigLevel = Never
</span></span><span class=line><span class=cl>Include = /etc/pacman.d/archlinuxcn.mirrorlist
</span></span></code></pre></td></tr></table></div></div><p>ç¼–è¾‘ <code>/etc/pacman.d/archlinuxcn.mirrorlist</code> æ–‡ä»¶
åŠ å…¥å¦‚ä¸‹å†…å®¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>## æ¸…åå¤§å­¦ (ipv4, ipv6, http, https)
</span></span><span class=line><span class=cl>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ (ipv4, ipv6, http, https)
</span></span><span class=line><span class=cl>Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## Our main server (ipv4, ipv6, http, https)
</span></span><span class=line><span class=cl>## Our main server located in Netherlands
</span></span><span class=line><span class=cl>Server = https://repo.archlinuxcn.org/$arch
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>## æµ™æ±Ÿå¤§å­¦ (æµ™æ±Ÿæ­å·) (ipv4, ipv6, http, https)
</span></span><span class=line><span class=cl>## Added: 2017-06-05
</span></span><span class=line><span class=cl>Server = https://mirrors.zju.edu.cn/archlinuxcn/$arch
</span></span></code></pre></td></tr></table></div></div><p>è¿è¡Œ <code>sudo pacman -Syyu</code> å’Œ <code>sudo pacman -S archlinuxcn-keyring</code></p><blockquote><p>pacman æ¸…é™¤ç¼“å­˜
<code>sudo pacman -Sc</code></p></blockquote><p><a class=link href=https://github.com/archlinuxcn/mirrorlist-repo target=_blank rel=noopener>æ›´å¤šæºå‚è§</a></p><p><del>å®‰è£…æœç‹—æ‹¼éŸ³è¾“å…¥æ³•</del></p><p><mark>ï¼è¯·ä¸è¦å®‰è£…æœç‹—æ‹¼éŸ³è¾“å…¥æ³•ï¼</mark></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># sudo pacman -S fcitx-sogoupinyin
</span></span><span class=line><span class=cl>sudo pacman -S fcitx-rime
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>~/.profile</code> æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢å‡ ä¸ªç¯å¢ƒå˜é‡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GTK_IM_MODULE</span><span class=o>=</span>fcitx
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>QT_IM_MODULE</span><span class=o>=</span>fcitx
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>XMODIFIERS</span><span class=o>=</span><span class=s2>&#34;@im=fcitx&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>.xinitrc</code> ä¸­æ·»åŠ </p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>fcitx <span class=p>&amp;</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ–åœ¨ i3é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  <code>exec_always fcitx</code></p><h3 id=å®‰è£…-virtualbox>å®‰è£… virtualbox</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo pacman -S linux-headers virtualbox virtualbox-guest-iso
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¿®æ”¹é”®ä½>ä¿®æ”¹é”®ä½</h3><h4 id=ä½¿ç”¨-xmodmap>ä½¿ç”¨ <code>xmodmap</code></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>xmodmap -pke &gt; ~/.xmodmap
</span></span></code></pre></td></tr></table></div></div><p><code>xev</code> å¯ä»¥æŸ¥çœ‹keycode</p><p>ç¼–è¾‘ä¸Šä¸€æ­¥å¾—åˆ°çš„ <code>~/.xmodmap</code>æ–‡ä»¶ï¼Œå¯¹åº”çš„keycodeä½œä¿®æ”¹
åœ¨æ–‡ä»¶å¼€å§‹å¤„æ·»åŠ </p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>clear control
</span></span><span class=line><span class=cl>clear lock
</span></span><span class=line><span class=cl>clear mod1
</span></span></code></pre></td></tr></table></div></div><p>åœ¨æ–‡ä»¶ç»“å°¾å¤„æ·»åŠ </p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>add control =Control_L Control_R
</span></span><span class=line><span class=cl>add mod1 = Alt_L
</span></span></code></pre></td></tr></table></div></div><p>æ‰§è¡Œ xmodmap <code>~/.xmodmap</code></p><h3 id=å®‰è£…æ— é“è¯å…¸>å®‰è£…æ— é“è¯å…¸</h3><mark>æˆ‘ç°åœ¨ä½¿ç”¨çš„æ˜¯å¦ä¸€ä¸ªç¨‹åºï¼š<a href=https://github.com/TimothyYe/ydict>ydict</a></mark><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo pacman -S python python-pip
</span></span><span class=line><span class=cl>sudo pip install bs4
</span></span><span class=line><span class=cl>sudo pip install lxml
</span></span></code></pre></td></tr></table></div></div><p><strong>æ³¨æ„ï¼Œæ— é“è¯å…¸ä¸varietyå†²çªæ—¶ï¼Œåªéœ€è¦pip uninstall å†²çªçš„åŒ…å³å¯</strong></p><h3 id=é…ç½®neovim>é…ç½®neovim</h3><p>å°†<code>.config/nvim/init.vim</code> è½¯é“¾æ¥åˆ° <code>~/.vimrc</code>
ç¼–è¾‘<code>~/.vimrc</code>
ä½¿ç”¨<code>vim-plug</code>å·¥å…·ç®¡ç†vimæ’ä»¶
åœ¨vimä¸­é€šè¿‡<code>:PlugInstall</code>å®‰è£…æ’ä»¶<a class=link href=https://github.com/junegunn/vim-plug/wiki/tutorial#installing-plugins target=_blank rel=noopener>å‚è€ƒ</a></p><h4 id=ultisnips-éœ€è¦pythonæ”¯æŒ>UltiSnips éœ€è¦pythonæ”¯æŒ</h4><p>ç”±äºUltiSnipséœ€è¦pythonæ”¯æŒï¼Œå½“å¯åŠ¨neovimæ—¶ï¼Œè‹¥æ²¡æœ‰pynvimåŒ…ï¼Œåˆ™ä¼šæŠ¥é”™ï¼š</p><blockquote><p>UltiSnips: the Python version from g:UltiSnipsUsePythonVersion (3) is not available.</p></blockquote><p>è§£å†³æ–¹æ¡ˆï¼špipå®‰è£…pynvim</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo pip install -U pynvim
</span></span></code></pre></td></tr></table></div></div><h3 id=ç¾åŒ–ä¸»é¢˜>ç¾åŒ–ä¸»é¢˜</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># for GTK
</span></span><span class=line><span class=cl>sudo pacman -S lxappearance
</span></span><span class=line><span class=cl># for qt5
</span></span><span class=line><span class=cl>sudo pacman -S qt5ct
</span></span></code></pre></td></tr></table></div></div><p>æ›´æ¢æ¡Œé¢å£çº¸</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>sudo</span> <span class=n>pacman</span> <span class=o>-</span><span class=n>S</span> <span class=n>feh</span> <span class=n>variety</span>
</span></span></code></pre></td></tr></table></div></div><p>ç»ˆç«¯åŠé€æ˜</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo pacman -S compton
</span></span></code></pre></td></tr></table></div></div><p>alacritty: <code>.config/alacritty/config.yml</code> è®¾ç½® <code>opacity</code></p></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>æœ€åæ›´æ–°äº Feb 20, 2022 16:38 CST</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><footer class=site-footer><section class=copyright>&copy;
2019 -
2025 cld4h çš„åšå®¢</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>